@import "compass/css3";
@import "animations.css";

// Pulse

// VARIABLES

$sansSerif: Arial, Helvetica, Sans-serif; //duplicate!

// MIXINS

@mixin rounded-full { //duplicate!
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
}

#view_pulse {
  background-image: linear-gradient(bottom, rgb(204,214,221) 0%, rgb(138,155,168) 100%);
  background-image: -moz-linear-gradient(bottom, rgb(204,214,221) 0%, rgb(138,155,168) 100%);
  background-image: -webkit-linear-gradient(bottom, rgb(204,214,221) 0%, rgb(138,155,168) 100%);
  background-image: -ms-linear-gradient(bottom, rgb(204,214,221) 0%, rgb(138,155,168) 100%);
  background-image: -webkit-gradient(
    linear,
    left bottom,
    left top,
    color-stop(0, rgb(204,214,221)),
    color-stop(1, rgb(138,155,168))
  );
  font-family:$sansSerif;
  height:263px;
  // margin:0 0 15px 0;
  width:992px;
  padding:1px;
  @include rounded-full;

  .container {
    background-image:url(../images/ui/bg_pulseBurst.png), linear-gradient(bottom, rgb(224,235,243) 7%, rgb(153,172,186) 54%);
    background-image:url(../images/ui/bg_pulseBurst.png), -moz-linear-gradient(bottom, rgb(224,235,243) 7%, rgb(153,172,186) 54%);
    background-image:url(../images/ui/bg_pulseBurst.png), -webkit-linear-gradient(bottom, rgb(224,235,243) 7%, rgb(153,172,186) 54%);
    background-image:url(../images/ui/bg_pulseBurst.png), -ms-linear-gradient(bottom, rgb(224,235,243) 7%, rgb(153,172,186) 54%);
    background-image:url(../images/ui/bg_pulseBurst.png), -webkit-gradient(
      linear,
      left bottom,
      left top,
      color-stop(0.07, rgb(224,235,243)),
      color-stop(0.54, rgb(153,172,186))
    );
    background-position:55px center;
    height:inherit;
    left:0;
    position:relative;
    top:0;
    width:inherit;
    @include rounded-full;
  }

  h2 {
    background:url(../images/ui/bg_pulse.png) no-repeat bottom left;
    color:#fff;
    float:left;
    font-size:20px;
    font-weight:normal;
    letter-spacing:.03em;
    line-height:1.6em;
    padding:0 0 0 14px;
    height:48px;
    width:113px;
  }

  .rail {

    bottom:0;
    height:231px; //gross!
    left:0;
    position:absolute;
    overflow:hidden;
    width:inherit;

    .navRight {
      bottom:0;
      height:inherit;
      position:absolute;
      right:0;
      width:40px;
      z-index:1;

      a {
        background:transparent url(../images/ui/bg_pulseArrows.png) no-repeat -105px -19px;
        height:32px;
        margin:105px auto 0 auto;
        opacity:0;
        display:block;
        width:24px;
        -webkit-transition: opacity 100ms ease-in 100ms;
        -moz-transition: opacity 100ms ease-in 100ms;
        -ms-transition: opacity 100ms ease-in 100ms;
        transition: opacity 100ms ease-in 100ms;
        @include border-radius(4px);


        &:hover {
          background:transparent url(../images/ui/bg_pulseArrows.png) no-repeat -148px -19px;
        }
      }

      &:hover {
        
        a {
          opacity:1;
        }
      }
    }

    .navLeft {
      left:0;
      height:inherit;
      position:absolute;
      width:40px;
      z-index:1;

      a {
        background:transparent url(../images/ui/bg_pulseArrows.png) no-repeat -62px -19px;
        height:32px;
        margin:105px auto 0 auto;
        opacity:0;
        display:block;
        width:24px;
        -webkit-transition: opacity 100ms ease-in 100ms;
        -moz-transition: opacity 100ms ease-in 100ms;
        -ms-transition: opacity 100ms ease-in 100ms;
        transition: opacity 100ms ease-in 100ms;
        @include border-radius(4px);

        &:hover {
          background:transparent url(../images/ui/bg_pulseArrows.png) no-repeat -19px -19px;
        }
      }

      &:hover {
        
        a {
          opacity:1;
        }
      }
    }

    footer {
      bottom:0;
      left:0;
      padding:0 0 11px 0;
      position:absolute;
      text-align:center;
      width:100%;
      z-index:1;

      .count {
        opacity:0;
        left:0;
        margin: 0 auto 7px auto;
        position:relative;
        top:0;

        &.show {
          opacity:1;
          -webkit-transition: opacity 100ms ease-in 100ms;
          -moz-transition: opacity 100ms ease-in 100ms;
          -ms-transition: opacity 100ms ease-in 100ms;
          transition: opacity 100ms ease-in 100ms; 
        }
      }

      .indicator {
        background:#b7c6d1;
        border:1px solid #333;
        height:11px;
        width:29px;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        left:-3px;
        opacity:.2;
        position:absolute;
        top:-4px;
        z-index:1;
      }

      .gadget {
        background:#adbdc8;
        display:inline;
        float:left;
        height:3px;
        margin:1px 2px 0 0;
        width:4px;

        &.max {
          height:5px;
          margin:0 2px 0 0;
          width:7px;
          -webkit-border-radius: 2px;
          -moz-border-radius: 2px;
          border-radius: 2px;

          &:nth-of-type(4n+4) {
            margin:0px 5px 0 0;
          }

          &:nth-of-type(5n+5) {
            margin:0 2px 0 1px;
          }
        }

        &:nth-of-type(4n+4) {
          margin:1px 5px 0 0;
        }

        &:nth-of-type(5n+5) {
          margin:1px 2px 0 1px;
        }

        &:last-of-type {
          margin-right:0;
        }
      }
    }

    .mainContent {
      background-image: linear-gradient(bottom, rgb(227,237,245) 31%, rgb(189,204,215) 100%);
      background-image: -moz-linear-gradient(bottom, rgb(227,237,245) 31%, rgb(189,204,215) 100%);
      background-image: -webkit-linear-gradient(bottom, rgb(227,237,245) 31%, rgb(189,204,215) 100%);
      background-image: -ms-linear-gradient(bottom, rgb(227,237,245) 31%, rgb(189,204,215) 100%);
      background-image: -webkit-gradient(
        linear,
        left bottom,
        left top,
        color-stop(0.31, rgb(227,237,245)),
        color-stop(1, rgb(189,204,215))
      );
      border-top:1px solid #d3dce2;
      height:79px;
      left:0;
      bottom:0;
      position:absolute;
      width:3000px;

      > div {
        display:inline;
        float:left;
        height:231px;
        margin:-152px 0 0 0;
        padding:0 32px;
        width:928px;
      }

      .gadget {

        -webkit-transform-origin:center center;
        -moz-transform-origin:center center;
        -ms-transform-origin:center center;
        transform-origin:center center;

        > div {
          -webkit-transform-origin:center center;
          -moz-transform-origin:center center;
          -ms-transform-origin:center center;
          transform-origin:center center;
        }

        img {
          height:100%;
          width:100%;
        }

        &.max {

          background:url(../images/ui/bg_gadgetShadow.png) no-repeat bottom center;
          float:left;
          height:185;
          margin:0 20px;
          opacity:1;
          padding:0 0 11px;
          position:relative;
          bottom:-11px;
          width:314px;

          -webkit-transition: -webkit-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          -moz-transition:-moz-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          -ms-transition: -ms-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          transition: transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);

          &.flip {

            > div {

              // -moz-transition: -moz-transform-origin 150ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 150ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 150ms cubic-bezier(0.895, 0.030, 0.685, 0.220);

            }

          }

          &:first-child {
            margin:0 11px 0 0;
          }

          .title {
            color:#fff;
            font-size:13px;
            text-align:center;
            margin:0 0 8px 0;  
          }

          > div {
            background-image: linear-gradient(bottom, rgb(226,244,254) 31%, rgb(245,251,255) 100%);
            background-image: -moz-linear-gradient(bottom, rgb(226,244,254) 31%, rgb(245,251,255) 100%);
            background-image: -webkit-linear-gradient(bottom, rgb(226,244,254) 31%, rgb(245,251,255) 100%);
            background-image: -ms-linear-gradient(bottom, rgb(226,244,254) 31%, rgb(245,251,255) 100%);
            background-image: -webkit-gradient(
              linear,
              left bottom,
              left top,
              color-stop(0.31, rgb(226,244,254)),
              color-stop(1, rgb(245,251,255))
            );

            -webkit-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            -moz-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            -ms-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);

            cursor:default;
            cursor:pointer;
            border:1px solid #d5dfe7;
            -moz-box-shadow:0 3px 2px #c0c9cd;
            -webkit-box-shadow:0 3px 2px #c0c9cd;
            box-shadow:0 0 3px #c0c9cd;
            height:122px;
            margin:0 auto;
            padding:20px 13px;
            width:254px;
            @include rounded-full;
          }

          .tools {
            right:24px;
          }
      
        }

        &.min {

          float:left;
          height:112px;
          margin:0 22px;
          position:relative;
          bottom:-58px;
          width:158px;

          -webkit-transition: -webkit-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          -moz-transition: -moz-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          -ms-transition: -ms-transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
          transition: transform 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), height 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), width 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220), bottom 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);

          &:first-child {
            margin-left:6px;
          }

          .title {
            color:#5f6f7b;
            font-size:11px;
            text-align:center;
            margin:0 0 8px 0;  
          }

          .tools {
            opacity: 0;
            -webkit-transform: translateY(0px);
            -webkit-transform-origin:center top;
            -webkit-transition: opacity 250ms linear;
            -moz-transform: translateY(0px);
            -moz-transform-origin:center top;
            -moz-transition: opacity 250ms linear;
            -ms-transform: translateY(0px);
            -ms-transform-origin:center top;
            -ms-transition: opacity 250ms linear;
            transform: translateY(0px);
            transform-origin:center top;
            transition: opacity 250ms linear;
          }

          &:hover {
            .tools {
              opacity: 1;
              -webkit-transform: translateY(0px);
              -webkit-transform-origin:center bottom;
              -webkit-transition: -webkit-transform 600ms cubic-bezier(0.895, 0.030, 0.685, 0.220), opacity 250ms linear;
              -moz-transform: translateY(0px);
              -moz-transform-origin:center bottom;
              -moz-transition: -moz-transform 600ms cubic-bezier(0.895, 0.030, 0.685, 0.220), opacity 250ms linear;
              -ms-transform: translateY(0px);
              -ms-transform-origin:center bottom;
              -ms-transition: -ms-transform 600ms cubic-bezier(0.895, 0.030, 0.685, 0.220), opacity 250ms linear;
              transform: translateY(0px);
              transform-origin:center bottom;
              transition: transform 600ms cubic-bezier(0.895, 0.030, 0.685, 0.220), opacity 250ms linear;
            }
          }

          > div {
            background-image: linear-gradient(bottom, rgb(213,224,231) 31%, rgb(250,252,252) 100%);
            background-image: -moz-linear-gradient(bottom, rgb(213,224,231) 31%, rgb(250,252,252) 100%);
            background-image: -webkit-linear-gradient(bottom, rgb(213,224,231) 31%, rgb(250,252,252) 100%);
            background-image: -ms-linear-gradient(bottom, rgb(213,224,231) 31%, rgb(250,252,252) 100%);
            background-image: -webkit-gradient(
              linear,
              left bottom,
              left top,
              color-stop(0.31, rgb(213,224,231)),
              color-stop(1, rgb(250,252,252))
            );

            -webkit-animation: stepBackward 200ms ease-out 1 alternate forwards;
            -webkit-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            -moz-animation: stepBackward 200ms ease-out 1 backwards;
            -moz-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            -ms-animation: stepBackward 200ms ease-out 1 alternate;
            -ms-transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);
            animation: stepBackward 200ms ease-out 1 alternate;
            transition: all 103ms cubic-bezier(0.895, 0.030, 0.685, 0.220);

            border:1px solid #dfe9ee;
            cursor:default;
            cursor:pointer;
            -moz-box-shadow:0 3px 2px #b4bfc7;
            -webkit-box-shadow:0 3px 2px #b4bfc7;
            box-shadow:0 3px 2px #b4bfc7;
            height:73px;
            padding:9px;
            width:138px;
            @include rounded-full;
          }

          dl {
            color:#93afc0;
            font-size:10px;
            text-align:center;

            dt {
              font-size:12px;
              margin:0 0 4px 0;
            }

            dd {

              span {
                display:block;
              }

              .value {
                color:#34bbf3;
                font-size:32px;
                margin:0 0 3px 0;
              }

              .desc {
                font-size:12px;
                margin:0 0 3px 0;
              }
            }
          }

          &:hover {

            > div {
              -webkit-animation:growOut 250ms ease forwards;
              -moz-animation:growOut 250ms ease forwards;
              -ms-animation:growOut 250ms ease forwards;
              animation:growOut 250ms ease forwards;
            }

            &.pulse {
              
              > div {
                -webkit-animation: pulse 500ms ease-in-out;
                -webkit-animation-iteration-count: infinite;
                -moz-animation: pulse 500ms ease-in-out;
                -moz-animation-iteration-count:infinite;
                -ms-animation: pulse 500ms ease-in-out;
                -ms-animation-iteration-count: infinite;
                animation: pulse 500ms ease-in-out;
                animation-iteration-count: infinite;
              }
            }

            &.growDown {

              > div {
                -webkit-animation: growDown 200ms cubic-bezier(0.895, 0.030, 0.685, 0.220) 1 alternate forwards;
                -moz-animation: growDown 200ms cubic-bezier(0.895, 0.030, 0.685, 0.220) 1 alternate forwards;
                -ms-animation: growDown 200ms cubic-bezier(0.895, 0.030, 0.685, 0.220) 1 alternate forwards;
                animation: growDown 200ms cubic-bezier(0.895, 0.030, 0.685, 0.220) 1 alternate forwards;
              }
            }

            &.stepForward_2 {
              
              > div {
                -webkit-animation: stepForward_2 200ms linear 1 forwards;
                -moz-animation: stepForward 200ms ease-out 1 forwards;
                -ms-animation: stepForward 200ms ease-out 1 forwards;
                animation: stepForward 200ms ease-out 1 forwards;
              }
            }

            &.walkTo {
              
              > div {
                -webkit-animation: walkTo 300ms ease-out 1 forwards;
                -moz-animation: walkTo 300ms ease-out 1 forwards;
                -ms-animation: stepForward 200ms ease-out 1 forwards;
                animation: stepForward 200ms ease-out 1 forwards;
              }
            }
          }
        }

        &:first-child {
          // margin-left:0;
        }

        &:last-child {
          margin-right:0;
        }

        .tools {
          float:none;
          margin:0;
          padding:0;
          position:absolute;
          right:5px;
          width:30px;

          li {

            margin:0 0 0 5px;

            a {
              height:10px;
              width:10px;
            }

            &.settings {
              a {
                background:url(../images/icons/pulse_sprite.png) no-repeat -10px -30px;
                padding:0;

                &:hover {
                  background:url(../images/icons/pulse_sprite.png) no-repeat -10px -50px;
                  color:#fff;
                }
              }
            }

            &.fullscreen {
              a {
                background:url(../images/icons/pulse_sprite.png) no-repeat -10px -70px;
                padding:0;

                &:hover {
                  background:url(../images/icons/pulse_sprite.png) no-repeat -10px -90px;
                  color:#fff;
                }
              }
            }
          }
        }
      }
    }
  }

  .tools {
    display:inline;
    float:right;
    font-size:11px;
    margin:0 5px 0 0;
    padding:6px 4px 0 0;
    
    li {
      display:inline;
      float:left;
      margin:0 0 0 10px;

      a {
        color:#6a7f90;
        display:block;
        line-height:1.5em;
      }

      &.settings {
        a {
          background:url(../images/icons/pulse_sprite.png) no-repeat -10px -27px;
          padding:0 0 0 15px;

          &:hover {
            background:url(../images/icons/pulse_sprite.png) no-repeat -10px -47px;
            color:#fff;
          }
        }
      }

      &.fullscreen {
        a {
          background:url(../images/icons/pulse_sprite.png) no-repeat -10px -67px;
          padding:0 0 0 15px;

          &:hover {
            background:url(../images/icons/pulse_sprite.png) no-repeat -10px -87px;
            color:#fff;
          }
        }
      }
    }
  }
}